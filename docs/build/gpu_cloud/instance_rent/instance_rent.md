# Renting an instance

The Fluence marketplace is a decentralized broker of GPU compute supply and demand that facilitates the renting process of GPU instances and management of your instances in datacenters located around the world.
The GPU marketplace offers three kinds of GPU workload for deployments: containers, VMs and bare metal instances. This document is focused on showing how to choose and configure and deploy an instance of any available kind.

## Billing model

Instances rent works on pre-paid model. When renting an instance, a prepayment amount equivalent to three hours of rent is deducted from your Balance and stored on a separate balance dedicated to an instance. Billing happens by charging one hour of rent from instance's balance. When an instance balance is below the required pre-paid amount, the system tries to top-up instance's balance from your Balance in the console.
Insufficient funds termination: if a system failed to charge an instance for one billing period due to insufficient funds on instance's prepdaid balance - a system failed to fill instance's balance from owner's balance, the instance rental agreement is terminated and it is automatically deleted.
Instance balance unfreeze: once instance rent stops all unused funds (not charged for running workload) from it's balance are moved back to the owner's balance.
You can check the amount of your Balance reserved as a “prepayment” on the **Billing** page in the Fluence Console.

## GPU container

GPU containers are lightweight deployments that run containerized workloads with full GPU access. They are ideal for running ML inference, training jobs, or any GPU-accelerated application packaged as a container image.

### 1. Select the GPU model

Choose the GPU model that fits your workload requirements. Each GPU card displays key specifications:

- **vRAM**: GPU memory available
- **Interface**: Connection type (PCIe or SXM — SXM offers higher memory bandwidth for multi-GPU workloads)
- **Price**: Minimum hourly rate in USD across all available configurations for this GPU model

![Select GPU model](./assets/containers/gpu_models.webp)

### 2. Select a configuration

After selecting a GPU model, choose a specific configuration from the available offerings. You can filter by location using the dropdown. Each configuration has following attributes:

- **GPU**: The GPU model
- **Location**: Data center location (US, GB, DE, etc.)
- **vCPU**: Number of virtual CPU cores allocated
- **RAM**: System memory allocated
- **Disk**: Storage space allocated
- **Price**: Hourly rate

Select the row that matches your requirements. The **Review** panel on the right updates to reflect your selection.

![Select configuration](./assets/containers/configurations.webp)

### 3. Specify the instance name

In the **Configure deployment** section, provide a name for your instance in the **Basic Information** field. A random name is generated by default (e.g., "rose-dove-8247"), but you can customize it.

![Specify instance name](./assets/containers/set_name.webp)

### 4. Set the container image

Choose the container image for your deployment. You have two options:

**Predefined images**: Select from available pre-configured images (e.g., Debian SSH 11) using the dropdown.

**Custom images**: Click **Add Image** to specify your own container image from a registry.

![Set container image](./assets/containers/set_image.webp)

#### Using a custom image

When adding a custom image, a dialog appears with the following options:

- **Image**: Enter the full image reference (e.g., `myorg/myimage:latest`)
- **Private Mode**: Enable this toggle to access private repositories. When enabled, additional fields appear:
  - **Host**: Select the container registry (GitHub Container Registry or Docker Hub)
  - **Username**: Your registry username
  - **Password**: Your registry password or access token

Click **Set image** to confirm your selection.

![Custom image dialog](./assets/containers/set_custom_image.webp)

### 5. Set the container start command

In the **Container Start Command** field, enter the script that will be executed as the entrypoint when the container starts. The script should be written as a bash script. Leave empty to use the default entrypoint defined in the container image.

![Container start command](./assets/containers/start_command.webp)

### 6. Configure ports

Specify which ports should be accessible on your container. Enter port numbers separated by commas. Supported formats:

- Port number only: `22, 443` (defaults to TCP)
- Port with protocol: `8080/tcp`, `53/udp`
- Port ranges: `5000-5005`

Port 22 is included by default for SSH access. Check **Enable http on port 80** to expose HTTP traffic on port 80.

![Configure ports](./assets/containers/ports.webp)

### 7. Set environment variables

Add environment variables that will be available inside your container. Click **Add Variable** and provide:

- **Name**: The variable name (e.g., `MODEL_PATH`)
- **Value**: The variable value (e.g., `/models/llama`)

You can add multiple variables as needed. Click the **X** button to remove a variable.

![Environment variables](./assets/containers/env.webp)

### 8. Select SSH keys

Choose which SSH keys should have access to the container. Your registered keys are displayed, and you can select or deselect them. Click **Add New Key** to register a new SSH key if needed.

:::info
You need at least one SSH key registered to access your container. SSH keys can be managed in [Settings](../../settings/settings.md).
:::

:::warning
When using a predefined OS image, the environment variable `SSH_PUBKEY` is reserved by the system for injecting your selected SSH keys into the container. Defining an environment variable with this name will cause the deployment request to fail.
:::

![Select SSH keys](./assets/containers/ssh_keys.webp)

### 9. Review and launch

Review your configuration in the **Review** panel on the right side. Verify:

- Instance name and location
- Selected image
- Hardware configuration (GPU, vRAM, interface, vCPU, RAM, Disk)
- Payment details (hourly rate, upfront payment of 3 hours, total)

Click **Launch** to deploy your GPU container. You will be redirected to the **Instances** page where you can monitor the deployment status.

![Review and launch](./assets/containers/review.webp)

## VM and Bare Metal

GPU VMs and bare metal instances provide full OS-level access with GPU passthrough. VMs run on a hypervisor, while bare metal gives you a dedicated physical server with no virtualization overhead. Both types share the same creation flow — the only difference is the tab you select at the top of the page (**VM** or **Bare Metal**).

:::info
The steps below apply to both VM and bare metal deployments. The screenshots show the VM tab, but the bare metal flow is identical.
:::

### 1. Select the GPU model

At the top of the page, select the **VM** or **Bare Metal** tab. Then choose the GPU model that fits your workload requirements. Each GPU card displays key specifications:

- **vRAM**: GPU memory available. Some GPU models offer multiple vRAM options — use the dropdown on the card to select the desired variant.
- **Interface**: Connection type (PCIe or SXM). Some GPU models support both — use the dropdown to choose. SXM offers higher memory bandwidth and is typically used for multi-GPU training workloads.
- **Price**: Minimum hourly rate in USD across all available configurations for this GPU model

![Select GPU model](./assets/vm_baremetal/gpu_models.webp)

### 2. Select the GPU count

Choose how many GPUs you need for your instance. Available options range from a **Single GPU (x1)** to **Multiple GPU** configurations. Each card shows:

- **Providers**: Number of providers with this GPU count available
- **Regions**: Number of regions where this configuration is offered
- **Data centers**: Number of data centers with availability
- **Price**: Hourly rate for the selected GPU count

Multi-GPU configurations are useful for distributed training, large model inference, or other workloads that benefit from parallel GPU compute.

![Select GPU count](./assets/vm_baremetal/gpu_count.webp)

### 3. Select a configuration

After selecting the GPU model and count, choose a specific configuration from the available offerings. Each row in the configuration table shows:

- **GPU**: The GPU model
- **Location**: Data center location
- **Provider**: The compute provider
- **vCPU**: Number of virtual CPU cores allocated
- **RAM**: System memory allocated
- **Storage**: Disk space allocated
- **Price**: Hourly rate

Select the row that matches your requirements. The **Review** panel on the right updates to reflect your selection.

![Select configuration](./assets/vm_baremetal/configurations.webp)

### 4. Specify the instance name

In the **Configure deployment** section, provide a name for your instance in the **Basic Information** field. A random name is generated by default (e.g., "jade-ocelot-8840"), but you can customize it.

![Specify instance name](./assets/vm_baremetal/set_name.webp)

### 5. Set the OS image

Choose the OS image for your instance using the **Set Image** dropdown. Available images come pre-configured with CUDA drivers and GPU support. Select the image that matches your software requirements.

![Set OS image](./assets/vm_baremetal/set_image.webp)

### 6. Select SSH keys

Choose which SSH keys should have access to the instance. Your registered keys are listed with their name and fingerprint. Use the **X** button to remove a key from the selection, or click the dropdown chevron to expand key details. Click **Add New Key** to register a new SSH key if needed.

:::info
You need at least one SSH key registered to access your instance. SSH keys can be managed in [Settings](../../settings/settings.md).
:::

![Select SSH keys](./assets/vm_baremetal/ssh_keys.webp)

### 7. Review and launch

Review your configuration in the **Review** panel on the right side. Verify:

- **Name** and **Datacenter** location
- **Type**: VM or Bare Metal
- **Configuration**: GPU model, vRAM, interface, vCPU, RAM, Storage
- **Payment**: Hourly payment rate, upfront payment (3 hours), and total amount to be deducted

Click **Launch** to deploy your instance. You will be redirected to the **Instances** page where you can monitor the deployment status.

![Review and launch](./assets/vm_baremetal/review.webp)
